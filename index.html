<script>
    let currentAudio = null;

    const sounds = [
      "sound1.mp3",
      "sound2.mp3",
      "sound3.mp3",
      "sound4.mp3",
      "sound5.mp3",
      "sound6.mp3",
      "sound7.mp3",
      "sound8.mp3",
      "sound9.mp3",
      "sound10.mp3",
      "sound11.mp3",
      "sound12.mp3",
      "sound13.mp3",
      "sound14.mp3",
      "sound15.mp3",
      "sound16.mp3"
    ];

    const alarmSound = "legendarypull.mp3";
    const chaosBackground = "https://media.discordapp.net/attachments/1342617491364384839/1365777199696838696/teletubbies_scary_by_ml_tordoff_d9omdpd-fullview.png?ex=680e8aa3&is=680d3923&hm=591bfe13d86b3053dbe298127d4f936e30b6c336f1389a9ea64a66caae0d0c48&=&format=webp&quality=lossless&width=1149&height=860";

    function playSound(index) {
      if (currentAudio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
      }
      const audio = new Audio(sounds[index]);
      audio.volume = document.getElementById("volumeSlider").value;
      audio.play();
      currentAudio = audio;

      // Random event: 1/350 chance to trigger flashing Arabic text
      const rareChance = Math.floor(Math.random() * 3) + 1;
      if (rareChance === 1) {
        triggerArabicWarning();
      }
    }

    function stopAllSounds() {
      if (currentAudio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
      }
    }

    function changeVolume(volume) {
      if (currentAudio) {
        currentAudio.volume = volume;
      }
    }

    function triggerArabicWarning() {
      const warning = document.createElement("div");
      warning.innerText = "نحن قادمون ، استعد لوصولنا.";
      warning.style.position = "fixed";
      warning.style.top = "50%";
      warning.style.left = "50%";
      warning.style.transform = "translate(-50%, -50%)";
      warning.style.fontSize = "4rem";
      warning.style.color = "red";
      warning.style.fontWeight = "bold";
      warning.style.zIndex = "9999";
      warning.style.animation = "flash 0.5s infinite alternate";
      document.body.appendChild(warning);

      setTimeout(() => {
        warning.remove();
      }, 10000); // Remove after 10 seconds
    }

    window.onload = function () {
      const container = document.getElementById("soundboard");
      sounds.forEach((sound, index) => {
        const button = document.createElement("div");
        button.className = "sound-button";
        button.innerText = `Sound ${index + 1}`;
        button.onclick = () => playSound(index);
        container.appendChild(button);
      });

      // Chaos mode (1/2500 chance)
      const chance = Math.floor(Math.random() * 2500) + 1;
      if (chance === 1) {
        document.body.style.backgroundImage = `url('${chaosBackground}')`;
        const alarm = new Audio(alarmSound);
        alarm.loop = true;
        alarm.volume = 1.0;
        alarm.play();
      }
    };
</script>

